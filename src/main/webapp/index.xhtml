<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://java.sun.com/jsf/core">
<head>
    <title>JSF - CRUD Example</title>
</head>
<body>
<h1>JSF CRUD Operations</h1>

<h:form>
    <h1>Create Student</h1>
    <h:outputLabel for="name" value="Name: " />
    <h:inputText id="name" value="#{studentBean.student.name}" required="true" />
    <h:outputLabel for="email" value="Email: " />
    <h:inputText id="email" value="#{studentBean.student.email}" required="true" />
    <h:commandButton value="Add Student" action="#{studentBean.createStudent}" />
</h:form>

<h1>All Students</h1>
<h:dataTable value="#{studentBean.students}" var="student">
    <h:column>
        <f:facet name="header">ID</f:facet>
        #{student.id}
    </h:column>
    <h:column>
        <f:facet name="header">Name</f:facet>
        #{student.name}
    </h:column>
    <h:column>
        <f:facet name="header">Email</f:facet>
        #{student.email}
    </h:column>

    <h:column>
    <f:facet name="header">Actions</f:facet>
    <h:commandButton value="Delete" action="#{studentBean.deleteStudent(student.id)}" />

        <h:commandLink value="" action="#{studentBean.loadStudent(student)}">
            <h:outputLink value="edit.xhtml">Update</h:outputLink>
        </h:commandLink>
</h:column>
</h:dataTable>
<h:form>
    <h1>Delete Student</h1>
    <h:outputLabel for="studentIdToDelete" value="Student ID: " />
    <h:inputText id="studentIdToDelete" value="#{studentBean.studentId}" />
    <h:commandButton value="Delete Student" action="#{studentBean.deleteStudent(studentBean.studentId)}" />
</h:form>
</body>
</html>
